<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta property="og:title" content="CodePush" />
  <meta property="og:site_name" content="CodePush"/>
  <meta property="og:description" content="CodePush Blog" />
  <meta property="og:image" content="https://microsoft.github.io/code-push/assets/images/fbshare.PNG" />
  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@Microsoft">
  <meta name="twitter:title" content="CodePush">
  <meta name="twitter:description" content="CodePush Blog">
  <meta name="twitter:image" content="https://microsoft.github.io/code-push/assets/images/fbshare.PNG">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
  <meta name="description" content="CodePush Blog">

  <title>
    
      VSTS Extension &middot; CodePush
    
  </title>
  
  <!-- build:css  /assets/css/vendor.css -->
  <link rel="stylesheet" href="/code-push/libraries/bootstrap/dist/css/bootstrap.css" />
  <link rel="stylesheet" href="/code-push/libraries/highlightjs/styles/solarized_light.css">
  <link rel="stylesheet" href="/code-push/libraries/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/code-push/libraries/github-fork-ribbon-css/gh-fork-ribbon.css">
  <!-- endbuild -->
  
  <!-- CSS -->
  <!-- build:css /assets/css/style.min.css -->
  <link rel="stylesheet" href="/code-push/assets/stylesheets/style.css">
  <link rel="stylesheet" href="/code-push/assets/stylesheets/ga.style.css">
  <!-- endbuild -->             

  <!-- Icons --> <!-- TODO: Check that these all wok -->
  <link rel="apple-touch-icon" sizes="57x57" href="/code-push/assets/images/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/code-push/assets/images/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/code-push/assets/images/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/code-push/assets/images/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/code-push/assets/images/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/code-push/assets/images/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/code-push/assets/images/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/code-push/assets/images/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/code-push/assets/images/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/code-push/assets/images/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/code-push/assets/images/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/code-push/assets/images/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/code-push/assets/images/icons/favicon-16x16.png">
  <link rel="manifest" href="/code-push/assets/images/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#294E80">
  <meta name="msapplication-TileImage" content="/code-push/assets/images/icons/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <!-- JS -->    
  <!-- Redirect logic from this docs(as it was depricated) to new docs https://docs.microsoft.com/en-us/appcenter/distribution/codepush/   -->    
  <script src="/code-push/assets/javascript/redirect.js"></script>

	<!-- build:js  /assets/js/vendors.js  -->	
	<script src="/code-push/libraries/jquery/dist/jquery.min.js"></script>
	<script src="/code-push/libraries/bootstrap/dist/js/bootstrap.js"></script>
  <script src="/code-push/libraries/zeroclipboard/dist/ZeroClipboard.min.js"></script>
  <script src="/code-push/libraries/anchorific.js/min/anchorific.min.js"></script>
  <script src="/code-push/libraries/toc/dist/toc.min.js"></script>
  <script src="/code-push/libraries/highlightjs/highlight.pack.min.js"></script>
  <!-- endbuild -->   
  
  <!-- build:js /assets/js/all.min.js -->
  <script src="/code-push/assets/javascript/global.js"></script>
  <script src="/code-push/assets/javascript/home.js"></script>  
  <script src="/code-push/assets/javascript/docs.js"></script>
  <script src="/code-push/assets/javascript/faq.js"></script>
  <!-- endbuild -->
 
  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/code-push/atom.xml">

    
</head>
<body>
    <header role="banner">
	<nav class="navbar navbar-default navbar-fixed-top">
		 <div class="container-fluid">
        	<!--<img class="fork-me-ribbon pull-right" src="../assets/images/fork_me_ribbon.svg" />-->
		    <!-- Brand and toggle get grouped for better mobile display -->
		    <div class="navbar-header">
		      <button type="button" class="navbar-toggle pull-left collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
		        <span class="sr-only">Toggle navigation</span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		        <span class="icon-bar"></span>
		      </button>
		      <a class="navbar-brand" href="/code-push/index.html">
						<img class="navbar-logo" src="/code-push/assets/images/codepush_navbar_logo.svg">
							<sup class="navbar-logo-text">PREVIEW</sup>
						</image>
					</a>
		    </div>
		    <!-- Collect the nav links, forms, and other content for toggling -->
		    <div class="collapse navbar-collapse navbar_center" id="bs-example-navbar-collapse-1">
		      <ul class="nav navbar-nav">
				<li class=""><a href="/code-push/index.html#getting_started">Getting Started</a></li>
				<li class="active"><a href="/code-push/docs/index.html">Documentation</a></li>
		        <li class=""><a href="/code-push/faq/index.html">FAQ</a></li>
				<li class=""><a href="/code-push/blog/index.html">Blog</a></li>
                <li class=""><a href="/code-push/community/friends.html">Showcase</a></li>
		      </ul>
		    </div><!-- /.navbar-collapse -->
		</div><!-- /.container-fluid -->
	</nav>				   		
</header>
<div class="top_navbar_spacer"></div>
	<div class="docs">
    <div id="content" class="container main_content">                       
        <div class="col-md-3 toc-container hidden-sm hidden-xs">
            <div class="row">
<div class='site-toc-container'>
  <h2 class="site-toc-title">Table of Contents</h2>
  <ul class="site-toc">
    
      
        
          
          
        
          
          
        
          
          
          <li>
            <a class="" href="/code-push/docs/getting-started.html">
                Getting Started
            </a>
            
          </li>
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
          <li>
            <a class="" href="/code-push/docs/tutorials.html">
                Tutorials
            </a>
            
          </li>
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
          <li>
            <a class="" href="/code-push/docs/cli.html">
                Management CLI
            </a>
            
          </li>
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
          <li>
            <a class="" href="/code-push/docs/node.html">
                Management SDK
            </a>
            
          </li>
          
        
          
          
        
      
        
          
          
        
          
          
          <li>
            <a class="" href="/code-push/docs/cordova.html">
                Cordova Client SDK
            </a>
            
          </li>
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
          <li>
            <a class="" href="/code-push/docs/react-native.html">
                React Native Client SDK
            </a>
            
          </li>
          
        
          
          
        
          
          
        
          
          
        
          
          
        
      
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
        
          
          
          <li>
            <a class="this-page" href="/code-push/docs/vsts-extension.html">
                VSTS Extension
            </a>
            
                <div id="page-toc" class="page-toc"></div>
            
          </li>
          
        
      
          
  </ul>
</div>
</div>                          
        </div>      
        <div class="col-md-7 col-md-offset-1">
            <div class="row">
                <div class="xs-toc-container visible-sm visible-xs">        
                    <nav class='xs-toc'>
  <div class="toc-dropdown dropdown">
    <h2 class="site-toc-title">Table of Contents</h2>
    <a class="dropdown-toggle btn" data-toggle="dropdown" href="#">
      Select topic
      <span class="caret"></span>
    </a>
    <ul class="dropdown-menu">
          
            
              
                
                
              
                
                
              
                
                
                <li>
                  <a href=/code-push/docs/getting-started.html>Getting Started</a>
                </li>
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
            
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
                <li>
                  <a href=/code-push/docs/tutorials.html>Tutorials</a>
                </li>
                
              
                
                
              
                
                
              
                
                
              
            
              
                
                
                <li>
                  <a href=/code-push/docs/cli.html>Management CLI</a>
                </li>
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
            
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
                <li>
                  <a href=/code-push/docs/node.html>Management SDK</a>
                </li>
                
              
                
                
              
            
              
                
                
              
                
                
                <li>
                  <a href=/code-push/docs/cordova.html>Cordova Client SDK</a>
                </li>
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
            
              
                
                
              
                
                
              
                
                
              
                
                
                <li>
                  <a href=/code-push/docs/react-native.html>React Native Client SDK</a>
                </li>
                
              
                
                
              
                
                
              
                
                
              
                
                
              
            
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
              
                
                
                <li>
                  <a href=/code-push/docs/vsts-extension.html>VSTS Extension</a>
                </li>
                
              
            
      
    </ul>
  </div>    
</nav>


                </div>            
            </div>
            <div class="row">  
                <header class="doc-header">
                    <h1 class="doc-title">VSTS Extension</h1>
                    <!--<ul class="nav" style="display:inline-block;"><li><a class="edit-page-link" style="padding-left:0" href="https://microsoft.github.io/code-push_docs/vsts-extension.md" target="_blank"><span class="glyphicon glyphicon-pencil"></span><i>&nbsp;</i>Edit on GitHub</a></li></ul>-->
                </header>  
                <article class="doc-content">               
                    <p>The Visual Studio Team Services (VSTS) CodePush extension can reduce the effort needed to keep your dev/alpha/beta/etc. deployments up-to-date, since you can simply push changes to the configured source control branches, and let your automated build take care of the rest. No need to manually release, promote or rollout from the CodePush CLI!</p>

<p>These tasks can be used with either VSTS or TFS 2015 Update 2 and are intended to work with any Cordova or React Native project. Additionally, the tasks can be paired nicely with the <a href="https://marketplace.visualstudio.com/items/ms-vsclient.cordova-extension">Cordova Command task</a> and/or the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vsclient.react-native-extension">React Native Bundle task</a>, which allow you to easily &ldquo;prepare&rdquo; the platform-specific assets that can be subsequently released to CodePush.</p>

<p><img src="/code-push/assets/images/docs/task-example.png" alt="CodePush Task + Cordova"></p>

<h2>Quick Start</h2>

<p>Follow these steps to automate the release and promotion of app updates via CodePush:</p>

<ol>
<li>Using the <a href="http://microsoft.github.io/code-push/docs/cli.html">CodePush CLI</a>, generate a new access key whose description indicates it will be used for VSTS CI builds (e.g. <code>code-push access-key create &quot;VSTS CI&quot;</code>)</li>
</ol>

<p><em>NOTE: If you provisioned your CodePush account from HockeyApp, you can use the API key that is displayed in the HockeyApp portal, and don&rsquo;t need to generate an additional key via the CodePush CLI.</em></p>

<ol>
<li><p>Install the <strong>CodePush</strong> extension from the <a href="https://marketplace.visualstudio.com/items/ms-vsclient.code-push">VSTS Marketplace</a></p></li>
<li><p>Go to your Visual Studio Team Services or TFS project, click on the <strong>Build</strong> tab, and create a new build definition (the &ldquo;+&rdquo; icon) that is hooked up to your project&rsquo;s appropriate source repo</p></li>
</ol>

<p><em>NOTE: If you already have a build definition setup for your app, you can feel free to re-use that. CodePush doesn&rsquo;t require a distinct build/release defintion in order to work.</em></p>

<ol>
<li><p>Click <strong>Add build step&hellip;</strong> and select one of the following tasks from the <strong>Deploy</strong> category, depending on your app type and/or requirements:</p>

<ol>
<li><strong>CodePush - Release (Cordova)</strong> - Select this if you&rsquo;re releasing updates for a Cordova app. See the <a href="#codepush-releasecordova">reference docs</a> for details about how it works.</li>
<li><strong>CodePush - Release</strong> - Select this if you&rsquo;re not releasing updates for a Cordova app or you want additional flexibility beyond what the platform-specific tasks provide you. See the <a href="#codepush-release">reference docs</a> for details about how it works.</li>
</ol></li>
<li><p>Configure the release task with the access key created or retrieved in step #1, specifying your app name (e.g. <code>MyApp-iOS</code>), deployment name and all other required parameters. See the reference docs below in order to find details on each option. </p></li>
<li><p>Click the <strong>Queue Build</strong> button or push a change to your repo in order to run the newly defined build pipeline</p></li>
<li><p>Run your CodePush-ified app to see the change that was automatically deployed!</p></li>
</ol>

<p>Moving forward, you can choose to take advantage of the <strong>CodePush - Promote</strong> task for automating the release of updates to one deployment (e.g. <code>Staging</code>) and then automating the promotion of it to another deployment (e.g. <code>Production</code>) as appropriate. This task pairs really well with the VSTS Release Management capabilities, where you can define multiple environments (each with their own deployment pipeline), as well as manual approvers, which allows you to automate updates, without sacrificing any of the control you want in terms of validation.</p>

<h2>Globally Configuring Your Credentials</h2>

<p>In addition to specifying your access key directly within each build task instance (as illustrated in the getting started section), you can also configure your CodePush credentials globally and refer to them within each build or release definition as needed. This can simplify the use of CodePush across a team, and increase security, since every build and release definition doesn&rsquo;t need to manually configure the account credentials. To do this, simply perform the following steps:</p>

<ol>
<li><p>Generate or retrieve your access key as described above</p>

<p><em>NOTE: If you need to retrieve a previously generated access key, you can run the <code>code-push access-key ls</code> command and look for the key with the description you specified when initially creating it.</em></p></li>
<li><p>Go into your Visual Studio Team Services or TFS project and click on the gear icon in the upper right corner</p></li>
<li><p>Click on the <strong>Services</strong> tab</p></li>
<li><p>Click on <strong>New Service Endpoint</strong> and select <strong>CodePush</strong></p></li>
</ol>

<p><em>NOTE: If you&rsquo;re using CodePush as part of an integration with HockeyApp, you can also select the <strong>HockeyApp</strong> service endpoint type instead.</em></p>

<ol>
<li><p>Give the new endpoint a name (e.g. &ldquo;MyApp-iOS&rdquo;) and enter the access key you generated in step #1</p>

<p><img src="/code-push/assets/images/docs/service-endpoint.png" alt="Service endpoint"></p></li>
<li><p>Select this endpoint via the name you chose in #5 whenever you add a CodePush task to a build or release definition.</p></li>
<li><p>Release app updates!</p></li>
</ol>

<h2>Task Reference</h2>

<p>In addition to the custom service endpoint, this extension also contributes the following build and release tasks:</p>

<ul>
<li><p><a href="#codepush---release"><strong>CodePush - Release</strong></a> - Allows automating the release of general-purpose content to the CodePush server. This task provides the most flexibility, but should only be used if the platform-specific tasks (e.g. Cordova) aren&rsquo;t appropriate for your needs.</p></li>
<li><p><a href="#codepush---release-cordova"><strong>CodePush - Release (Cordova)</strong></a> - Allows automating the generation and release of Cordova app updates. Represents a simplified, Cordova-specific version of general-purposes release task, and is recommended for all Cordova scenarios.</p></li>
<li><p><a href="#codepush---patch"><strong>CodePush - Patch</strong></a> - Allows automating the modification of a previously released update. This can be useful for scenarios such as increasing the rollout of a release that was originally &ldquo;flighted&rdquo; (e.g. to <code>25%</code> of users)  or enabling a release that was disabled by default.</p></li>
<li><p><a href="#codepush---promote"><strong>CodePush - Promote</strong></a> - Allows automating the promotion of a previously released update from one deployment to another (e.g. <code>Staging</code> -&gt; <code>Production</code>). </p></li>
</ul>

<h3>CodePush - Release</h3>

<p>Allows you to release an update to the CodePush server. This task behaves equivalently to the <a href="https://github.com/Microsoft/code-push/tree/master/cli#releasing-updates-general"><code>code-push release</code></a> command in the management CLI, and includes the following options:</p>

<ol>
<li><p><strong>Authentication Method</strong> - Specifies how you would like to authenticate with the CodePush server. The available options are:</p>

<ol>
<li><strong>Access Key</strong> - Allows you to directly specify an access key to the task. This value can either have been generated by the CodePush CLI, or provided to you by the HockeyApp portal after you auto-provisioned your CodePush account and app.</li>
<li><strong>Service Endpoint (CodePush)</strong> - Allows you to reference a globally configured CodePush service endpoint.</li>
<li><strong>Service Endpoint (HockeyApp)</strong> - Allows you to reference a globally configured HockeyApp service endpoint.</li>
</ol></li>
<li><p><strong>App Name</strong> <em>(String, Required)</em> - Name of the app you want to release the update for (e.g. <code>MyApp-iOS</code>).</p></li>
<li><p><strong>Deployment</strong> <em>(String, Required)</em> - Name of the deployment you want to release the update to. Defaults to <code>Staging</code>.</p></li>
<li><p><strong>Update Contents Path</strong> <em>(File path, Required)</em> - Path to the file or directory that contains the update you want to release. For Cordova this should be the platform-specific <code>www</code> folder (e.g <code>platforms/ios/www</code>) and for React Native this should point to either your generated JS bundle file (e.g. <code>ios/main.jsbundle</code>) or a directory containing your JS bundle and assets, depending on if you&rsquo;re using the React Native assets system. View the <a href="http://microsoft.github.io/code-push/docs/cli.html#update-contents-parameter">CLI docs</a> for more details.</p></li>
<li><p><strong>Target Binary Version</strong> <em>(String, Required)</em> - Semver expression that specifies the binary app version(s) this release is targetting (e.g. 1.1.0, ~1.2.3). View the <a href="http://microsoft.github.io/code-push/docs/cli.html#target-binary-version-parameter">CLI docs</a> for more details.</p></li>
</ol>

<h5>Update Metadata</h5>

<p>In addition to the basic properties, the follow options provide more advanced control over the release and how it will be distributed to your end users:</p>

<ol>
<li><p><strong>Rollout</strong> <em>(String)</em> - Percentage of users this release should be immediately available to. Defaults to <code>100%</code>.</p></li>
<li><p><strong>Description</strong> <em>(String)</em> - Description of the changes made to the app in this release. When this task is used within a VSTS release definition, this field can be set to the <code>$(Release.ReleaseDescription)</code> variable in order to inherit the description that was given to the release.</p></li>
<li><p><strong>Mandatory</strong> <em>(Boolean)</em> - Specifies whether this release should be considered mandatory. Defaults to <code>false</code>.</p></li>
<li><p><strong>Disabled</strong> <em>(Boolean)</em> - Specifies whether this release should be immediately downloadable. Defaults to <code>false</code>.</p></li>
</ol>

<h3>CodePush - Release (Cordova)</h3>

<p>Allows you to release Cordova app updates to the CodePush server. It provides a simplified experience over the general-purpose release task by automatically generating the release contents for you (via <code>cordova prepare</code>), and inferring your app&rsquo;s version in order to appropriately target the update. This task behaves equivalently to the <a href="https://github.com/Microsoft/code-push/tree/master/cli#releasing-updates-cordova"><code>code-push release-cordova</code></a> command in the management CLI, and includes the following options:</p>

<ol>
<li><p><strong>Authentication Method</strong> - Specifies how you would like to authenticate with the CodePush server. The available options are:</p>

<ol>
<li><strong>Access Key</strong> - Allows you to directly specify an access key to the task. This value can either have been generated by the CodePush CLI, or provided to you by the HockeyApp portal after you auto-provisioned your CodePush account and app.</li>
<li><strong>Service Endpoint (CodePush)</strong> - Allows you to reference a globally configured CodePush service endpoint.</li>
<li><strong>Service Endpoint (HockeyApp)</strong> - Allows you to reference a globally configured HockeyApp service endpoint.</li>
</ol></li>
<li><p><strong>App Name</strong> <em>(String, Required)</em> - Name of the app you want to release the update for (e.g. <code>MyApp-iOS</code>).</p></li>
<li><p><strong>Deployment</strong> <em>(String, Required)</em> - Name of the deployment you want to release the update to. Defaults to <code>Staging</code>.</p></li>
<li><p><strong>Platform</strong> <em>(String, Required)</em> - Specifies whether you want to create an update for <code>Android</code> or <code>iOS</code>. Behind the scenes, this task will run <code>cordova prepare &lt;platform&gt;</code>, where <code>&lt;platform&gt;</code> is determined by the value of this field.</p></li>
<li><p><strong>Build</strong> <em>(Boolean</em>) - Specifies whether you want the tasks to run <code>cordova build</code> instead of <code>cordova prepare</code>. This can be useful if your app has Cordova build tasks that you need to be triggered. Defaults to <code>false</code>.</p></li>
</ol>

<h5>Update Metadata</h5>

<p>In addition to the basic properties, the follow options provide more advanced control over the release and how it will be distributed to your end users:</p>

<ol>
<li><p><strong>Rollout</strong> <em>(String)</em> - Percentage of users this release should be immediately available to. Defaults to <code>100%</code>.</p></li>
<li><p><strong>Description</strong> <em>(String)</em> - Description of the changes made to the app in this release. When this task is used within a VSTS release definition, this field can be set to the <code>$(Release.ReleaseDescription)</code> variable in order to inherit the description that was given to the release.</p></li>
<li><p><strong>Target Binary Version</strong> <em>(String, Required)</em> - Semver expression that specifies the binary app version(s) this release is targetting (e.g. 1.1.0, ~1.2.3). View the <a href="http://microsoft.github.io/code-push/docs/cli.html#target-binary-version-parameter">CLI docs</a> for more details. Selecting <code>Auto-Detect</code> will automatically read the app&rsquo;s version from the <code>config.xml</code> file.</p></li>
<li><p><strong>Mandatory</strong> <em>(Boolean)</em> - Specifies whether this release should be considered mandatory. Defaults to <code>false</code>.</p></li>
<li><p><strong>Disabled</strong> <em>(Boolean)</em> - Specifies whether this release should be immediately downloadable. Defaults to <code>false</code>.</p></li>
</ol>

<h3>CodePush - Patch</h3>

<p>Allows you to update the metadata for a previously released update. This task behaves equivalently to the <a href="https://github.com/Microsoft/code-push/tree/master/cli#patching-updates"><code>code-push patch</code></a> command in the management CLI, and includes the following options:</p>

<ol>
<li><p><strong>Authentication Method</strong> - Specifies how you would like to authenticate with the CodePush server. The available options are:</p>

<ol>
<li><strong>Access Key</strong> - Allows you to directly specify an access key to the task. This value can either have been generated by the CodePush CLI, or provided to you by the HockeyApp portal after you auto-provisioned your CodePush account and app.</li>
<li><strong>Service Endpoint (CodePush)</strong> - Allows you to reference a globally configured CodePush service endpoint.</li>
<li><strong>Service Endpoint (HockeyApp)</strong> - Allows you to reference a globally configured HockeyApp service endpoint.</li>
</ol></li>
<li><p><strong>App Name</strong> <em>(String, Required)</em> - Name of the app that includes the release you want to update (e.g. <code>MyApp-iOS</code>).</p></li>
<li><p><strong>Deployment</strong> <em>(String, Required)</em> - Name of the deployment that includes the release you want to update. Defaults to <code>Staging</code>.</p></li>
<li><p><strong>Release Label</strong> <em>(String, Required)</em> - Label of the release you want to update the metadata for (e.g. <code>v23</code>). Selecting <code>Latest</code> will update the latest release within the specified deployment. Defaults to <code>Latest</code>.</p></li>
</ol>

<h5>Update Metadata</h5>

<p>By default, no release attributes are modified by the patch operation, so in order to update any metadata, you need to change the default value for one or more of the following options in this group.</p>

<ol>
<li><p><strong>Rollout</strong> <em>(String)</em> - Percentage of users this release should be immediately available to. Selecting <code>Inherit</code> will leave this attributes unmodified. Defaults to <code>Inherit</code>.</p></li>
<li><p><strong>Description</strong> <em>(String)</em> - Description of the changes made to the app in this release. Selecting <code>Inherit</code> will leave this attributes unmodified. When this task is used within a VSTS release definition, this field can be set to the <code>$(Release.ReleaseDescription)</code> variable in order to inherit the description that was given to the release. Defaults to <code>Inherit</code>.</p></li>
<li><p><strong>Target Binary Version</strong> <em>(String, Required)</em> - Semver expression that specifies the binary app version(s) this release is targetting (e.g. 1.1.0, ~1.2.3). View the <a href="http://microsoft.github.io/code-push/docs/cli.html#target-binary-version-parameter">CLI docs</a> for more details. Selecting <code>Inherit</code> will leave this attributes unmodified. Defaults to <code>Inherit</code>.</p></li>
<li><p><strong>Mandatory</strong> <em>(Boolean)</em> - Specifies whether this release should be considered mandatory. Selecting <code>Inherit</code> will leave this attributes unmodified. Defaults to <code>Inherit</code>.</p></li>
<li><p><strong>Disabled</strong> <em>(Boolean)</em> - Specifies whether this release should be immediately downloadable. Selecting <code>Inherit</code> will leave this attributes unmodified. Defaults to <code>Inherit</code>.</p></li>
</ol>

<h3>CodePush - Promote</h3>

<p>Allows you to promote a previously released update from one deployment to another (e.g. <code>Staging</code> -&gt; <code>Production</code>), and enables the use of <a href="https://www.visualstudio.com/en-us/features/release-management-vs.aspx">VSTS Release Management</a> for easily handling multiple app environments from your CI environment. This task behaves equivalently to the <a href="https://github.com/Microsoft/code-push/tree/master/cli#promoting-updates"><code>code-push promote</code></a> command in the management CLI, and includes the following options:</p>

<ol>
<li><p><strong>Authentication Method</strong> - Specifies how you would like to authenticate with the CodePush server. The available options are:</p>

<ol>
<li><strong>Access Key</strong> - Allows you to directly specify an access key to the task. This value can either have been generated by the CodePush CLI, or provided to you by the HockeyApp portal after you auto-provisioned your CodePush account and app.</li>
<li><strong>Service Endpoint (CodePush)</strong> - Allows you to reference a globally configured CodePush service endpoint.</li>
<li><strong>Service Endpoint (HockeyApp)</strong> - Allows you to reference a globally configured HockeyApp service endpoint.</li>
</ol></li>
<li><p><strong>App Name</strong> <em>(String, Required)</em> - Name of the app that has the deployments you are targeting for promotion (e.g. <code>MyApp-iOS</code>).</p></li>
<li><p><strong>Source Deployment</strong> <em>(String)</em> - Name of the deployment you want to promote the latest release from. Defaults to <code>Staging</code>.</p></li>
<li><p><strong>Destination Deployment</strong> <em>(String)</em> - Name of the deployment you want to promote the release to. Defaults to <code>Production</code>.</p></li>
</ol>

<h5>Update Metadata</h5>

<p>By default, when a release is promoted from one deployment to another, the newly created release will &ldquo;inherit&rdquo; not just the update contents, but also the metadata (e.g. <code>description</code>). This ensures that what is being promoted is the exact same thing that you tested in the source deployment. However, if you need to override one or more properties in the newly created release within the target deployment (e.g. because you use <code>mandatory</code> differently between environments), you can use the following fields:</p>

<ol>
<li><p><strong>Rollout</strong> <em>(String)</em> - Percentage of users this release should be immediately available to. Defaults to <code>100%</code></p></li>
<li><p><strong>Description</strong> <em>(String)</em> - Description of the changes made to the app in this release. Selecting <code>Inherit</code> will use the description from the release being promoted. When this task is used within a VSTS release definition, this field can be set to the <code>$(Release.ReleaseDescription)</code> variable in order to inherit the description that was given to the release. Defaults to <code>Inherit</code>.</p></li>
<li><p><strong>Target Binary Version</strong> <em>(String)</em> - Semver expression that specifies the binary app version(s) this release is targetting (e.g. 1.1.0, ~1.2.3). Selecting <code>Inherit</code> will use the target binary version attribute from the release being promoted. Defaults to <code>Inherit</code>. View the <a href="http://microsoft.github.io/code-push/docs/cli.html#target-binary-version-parameter">CLI docs</a> for more details.</p></li>
<li><p><strong>Mandatory</strong> <em>(Boolean)</em> - Specifies whether this release should be considered mandatory. Selecting <code>Inherit</code> will use the mandatory attribute from the release being promoted. Defaults to <code>Inherit</code>.</p></li>
<li><p><strong>Disabled</strong> <em>(Boolean)</em> - Specifies whether this release should be immediately downloadable. Selecting <code>Inherit</code> will use the disabled attribute from the release being promoted. Defaults to <code>Inherit</code>.</p></li>
</ol>
                    
                </article>
                <div class="feedback-container">
    <div class="widget">
        <div class="widget-error" style="display:none">
            <div class="header">
                <h3>Server trouble... ☹</h3>
            </div>
            <div class="message">
                <P>We appreciate the effort but we are having issues.</P>
            </div>
        </div>
        <div class="widget-thankyou" style="display:none">
            <div class="header">
                <h3>Thank you!</h3>
            </div>
            <div class="message">
                <P>We appreciate your feedback.</P>
            </div>
        </div>
        <div class="widget-message" style="display:none">
            <div class="header">
                <h3>Additional feedback</h3>
                <!--<span class="charCount">1000</span>-->
            </div>
            <textarea class="form-control widget-text" maxlength="1000" rows="4"></textarea>
            <div class="buttons">
                <button type="submit" onclick="updateFeed(true)">Submit</button>
                <button type="submit" onclick="updateFeed()">Skip this</button>
            </div>
        </div>
        <div class="widget-entry">
            <div class="header">
                <h3> Was this documentation helpful?</h3>
            </div>
            <div class="buttons">
                <button onclick="sendFeed(1)">Yes</button>
                <button onclick="sendFeed(0)"> No</button>
            </div>
        </div>
    </div>
</div>

<script>

    var baseURL="https://docsfeedback.azurewebsites.net/api/feedback/";
    var feedbackType, messageId;
    var docURL = window.location.host+window.location.pathname;
    var date = new Date().toUTCString();
    var project = "CodePush";

    function sendFeed(feedType){
        feedbackType = feedType;
        $.ajax({
            method: "POST",
            contentType: "application/x-www-form-urlencoded",
            crossDomain: true,
            cors: true,
            url: baseURL+"create",
            data: { Type: feedbackType, ParentURL: docURL, Project: project, CreationDate: date, Id: messageId}
        })
        .done(function(result, textStatus, xhr) {
            messageId = xhr.responseJSON.Id;
            $('.widget-entry').css('display','none');
            $('.widget-message').css('display','block');
        })
        .fail(function(req, status, error ) {
            console.log( 'Something went wrong - ', status, error );
            $('.widget-entry').css('display','none');
            $('.widget-error').css('display','block');
        });
    }

    function updateFeed(msg){
        var comments = $('.widget-text').val();
        if(msg){
            $.ajax({
                method: "PUT",
                contentType: "application/x-www-form-urlencoded",
                crossDomain: true,
                cors: true,
                url: baseURL+messageId,
                data: { Type: feedbackType, ParentURL: docURL, Project: project, CreationDate: date, Id: messageId, Message: comments}
            })
            .done(function() {
                $('.widget-message').css('display','none');
                $('.widget-thankyou').css('display','block');
            })
            .fail(function(req, status, error ) {
                console.log( 'Something went wrong - ', status, error );
                $('.widget-message').css('display','none');
                $('.widget-error').css('display','block');
            });
        }
        else{
            $('.widget-message').css('display','none');
            $('.widget-thankyou').css('display','block');
        }
        setTimeout(function(){
            $('.widget').fadeTo( "slow", 0);
        },4000);
    }

</script>
            </div>  
        </div>           
    </div>
</div>
	<footer>
    <div class="footer-container">
        <div class="container" id="footer">
            <div class="row">
                <div class="col-sm-9">
                    <div class="row">
                        <div class="col-sm-4">
                            <h4>General</h4>
                            <ul class="nav">
                                <!--TODO: CHECK LINKS-->
                                <li><a href="https://github.com/Microsoft/code-push/blob/master/LICENSE.md" target="_blank">License</a></li>
                                <li><a href="https://www.visualstudio.com/en-us/privacy-policy-vs" target="_blank">Privacy</a></li>
                                <li><a href="https://msdn.microsoft.com/en-us/cc300389" target="_blank">Terms of Service</a></li>
                            </ul>
                        </div>
                        <div class="col-sm-4">
                            <h4>Community</h4>
                            <ul class="nav">
                                <li><a href="https://github.com/Microsoft/code-push/" target="_blank">GitHub Project</a></li>
                                <li><a href="https://stackoverflow.com/questions/tagged/codepush" target="_blank">Stack Overflow</a></li>
                                <li><a href="https://twitter.com/hashtag/codepush" target="_blank">#CodePush</a></li>
                            </ul>
                        </div>
                        <div class="col-sm-4">
                            <h4>Documentation</h4>
                            <ul class="nav">
                                <li><a href="https://github.com/Microsoft/code-push/blob/master/cli/README.md" target="_blank">CLI Docs</a></li>
                                <li><a href="https://github.com/Microsoft/cordova-plugin-code-push/blob/master/README.md" target="_blank">Cordova Plugin Docs</a></li>
                                <li><a href="https://github.com/Microsoft/react-native-code-push/blob/master/README.md" target="_blank">React Native Plugin Docs</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-sm-3">
                    <h3><i class="fa fa-comment"></i> Talk to us!</h3>
                    <p>If you have any feedback or suggestions on how we can make CodePush more awesome, please contact via Twitter <a href="https://twitter.com/mscodepush">@mscodepush, <a href=mailto:codepush@microsoft.com>email us</a> or ping us in the <a href="https://discord.gg/0ZcbPKXt5bWxFdFu">#code-push</a> channel on Reactiflux (for React Native).</p>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid signature-container">
        <div class="container">
            <div class="row signature">          
                <p class="pull-left hidden-xs">Made with <span class="glyphicon glyphicon-heart"></span> in Redmond</p> 
                <div class="pull-right">
                    <p class="copyright pull-left">&copy;2012-2017 Microsoft
                    <img class="ms-logo-footer" src="/code-push/assets/images/Microsoft_logo.svg"/></p>
                </div>              
            </div>
        </div>        
    </div>
</footer>
</body>	
</html>
